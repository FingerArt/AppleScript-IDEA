AppleScript File(0,403)
  AppleScriptTellCompoundStatementImpl(TELL_COMPOUND_STATEMENT)(0,385)
    PsiElement(tell)('tell')(0,4)
    PsiWhiteSpace(' ')(4,5)
    AppleScriptApplicationReferenceImpl(APPLICATION_REFERENCE)(5,23)
      AppleScriptDictionaryClassNameImpl(DICTIONARY_CLASS_NAME)(5,16)
        PsiElement(application)('application')(5,16)
      PsiWhiteSpace(' ')(16,17)
      PsiElement(STRING_LITERAL)('"Mail"')(17,23)
    PsiElement(NLS)('\n  ')(23,26)
    AppleScriptBlockBodyImpl(BLOCK_BODY)(26,377)
      AppleScriptAssignmentStatementImpl(ASSIGNMENT_STATEMENT)(26,46)
        PsiElement(set)('set')(26,29)
        PsiWhiteSpace(' ')(29,30)
        TARGET_VARIABLE(30,39)
          AppleScriptIdentifierImpl(IDENTIFIER)(30,39)
            PsiElement(var_identifier)('theTempID')(30,39)
        PsiWhiteSpace(' ')(39,40)
        PsiElement(to)('to')(40,42)
        PsiWhiteSpace(' ')(42,43)
        AppleScriptIntegerLiteralExpressionImpl(INTEGER_LITERAL_EXPRESSION)(43,46)
          PsiElement(DIGITS)('123')(43,46)
      PsiElement(NLS)('\n  ')(46,49)
      AppleScriptGetCommandExpressionImpl(GET_COMMAND_EXPRESSION)(49,63)
        PsiElement(get)('get')(49,52)
        PsiWhiteSpace(' ')(52,53)
        AppleScriptExpressionImpl(EXPRESSION)(53,63)
          AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(53,63)
            AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(53,63)
              PsiElement(var_identifier)('message')(53,60)
              PsiWhiteSpace(' ')(60,61)
              PsiElement(id)('id')(61,63)
      PsiWhiteSpace(' ')(63,64)
      PsiComment(COMMENT)('-- todo not correct, should be 'message id' property')(64,116)
      PsiElement(NLS)('\n  ')(116,119)
      AppleScriptExpressionImpl(EXPRESSION)(119,129)
        AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(119,129)
          AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(119,129)
            PsiElement(var_identifier)('message')(119,126)
            PsiWhiteSpace(' ')(126,127)
            PsiElement(id)('id')(127,129)
      PsiWhiteSpace(' ')(129,130)
      PsiComment(COMMENT)('-- todo: not correct: 'message' is a class, should be 'message id' property')(130,205)
      PsiElement(NLS)('\n  ')(205,208)
      AppleScriptExpressionImpl(EXPRESSION)(208,226)
        AppleScriptObjectReferenceImpl(OBJECT_REFERENCE)(208,226)
          AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(208,218)
            AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(208,218)
              PsiElement(var_identifier)('message')(208,215)
              PsiWhiteSpace(' ')(215,216)
              PsiElement(id)('id')(216,218)
          PsiWhiteSpace(' ')(218,219)
          PsiElement(of)('of')(219,221)
          PsiWhiteSpace(' ')(221,222)
          AppleScriptReferenceIdentifierImpl(REFERENCE_IDENTIFIER)(222,226)
            AppleScriptIdentifierImpl(IDENTIFIER)(222,226)
              PsiElement(var_identifier)('dldl')(222,226)
      PsiWhiteSpace(' ')(226,227)
      PsiComment(COMMENT)('--'message id' is a property: correct')(227,264)
      PsiElement(NLS)('\n  ')(264,267)
      AppleScriptExpressionImpl(EXPRESSION)(267,304)
        AppleScriptFilterReferenceImpl(FILTER_REFERENCE)(267,304)
          AppleScriptDictionaryClassNameImpl(DICTIONARY_CLASS_NAME)(267,274)
            PsiElement(var_identifier)('message')(267,274)
          PsiWhiteSpace(' ')(274,275)
          PsiElement(whose)('whose')(275,280)
          PsiWhiteSpace(' ')(280,281)
          AppleScriptCompareExpressionImpl(COMPARE_EXPRESSION)(281,304)
            AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(281,291)
              AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(281,291)
                PsiElement(var_identifier)('message')(281,288)
                PsiWhiteSpace(' ')(288,289)
                PsiElement(id)('id')(289,291)
            PsiWhiteSpace(' ')(291,292)
            PsiElement(EQ)('is')(292,294)
            PsiWhiteSpace(' ')(294,295)
            AppleScriptReferenceIdentifierImpl(REFERENCE_IDENTIFIER)(295,304)
              AppleScriptIdentifierImpl(IDENTIFIER)(295,304)
                PsiElement(var_identifier)('theTempID')(295,304)
      PsiWhiteSpace(' ')(304,305)
      PsiComment(COMMENT)('--todo 'message id' is not detected as a property')(305,354)
      PsiElement(NLS)('\n  ')(354,357)
      AppleScriptExpressionImpl(EXPRESSION)(357,376)
        AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(357,376)
          AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(357,376)
            PsiElement(var_identifier)('should')(357,363)
            PsiWhiteSpace(' ')(363,364)
            PsiElement(copy)('copy')(364,368)
            PsiWhiteSpace(' ')(368,369)
            PsiElement(var_identifier)('message')(369,376)
      PsiElement(NLS)('\n')(376,377)
    PsiElement(end)('end')(377,380)
    PsiWhiteSpace(' ')(380,381)
    PsiElement(tell)('tell')(381,385)
  PsiElement(NLS)('\n\n')(385,387)
  AppleScriptDictionaryCommandHandlerCallExpressionImpl(DICTIONARY_COMMAND_HANDLER_CALL_EXPRESSION)(387,402)
    AppleScriptDictionaryCommandNameImpl(DICTIONARY_COMMAND_NAME)(387,402)
      PsiElement(var_identifier)('do')(387,389)
      PsiWhiteSpace(' ')(389,390)
      PsiElement(var_identifier)('shell')(390,395)
      PsiWhiteSpace(' ')(395,396)
      PsiElement(script)('script')(396,402)
  PsiElement(NLS)('\n')(402,403)

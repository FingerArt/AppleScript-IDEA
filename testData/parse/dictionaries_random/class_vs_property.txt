AppleScript File(0,363)
  AppleScriptTellCompoundStatementImpl(TELL_COMPOUND_STATEMENT)(0,362)
    PsiElement(AppleScriptTokenType.tell)('tell')(0,4)
    PsiWhiteSpace(' ')(4,5)
    AppleScriptApplicationReferenceImpl(APPLICATION_REFERENCE)(5,23)
      PsiElement(AppleScriptTokenType.application)('application')(5,16)
      PsiWhiteSpace(' ')(16,17)
      AppleScriptApplicationNameStringImpl(APPLICATION_NAME_STRING)(17,23)
        PsiElement(AppleScriptTokenType.STRING_LITERAL)('"Mail"')(17,23)
    PsiElement(AppleScriptTokenType.NLS)('\n  ')(23,26)
    AppleScriptBlockBodyImpl(BLOCK_BODY)(26,353)
      AppleScriptGetCommandExpressionImpl(GET_COMMAND_EXPRESSION)(26,37)
        PsiElement(AppleScriptTokenType.get)('get')(26,29)
        PsiWhiteSpace(' ')(29,30)
        AppleScriptExpressionImpl(EXPRESSION)(30,37)
          AppleScriptDictionaryClassNameImpl(DICTIONARY_CLASS_NAME)(30,37)
            AppleScriptIdentifierImpl(IDENTIFIER)(30,37)
              PsiElement(AppleScriptTokenType.var_identifier)('message')(30,37)
      PsiWhiteSpace(' ')(37,38)
      AppleScriptExpressionImpl(EXPRESSION)(38,40)
        AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(38,40)
          AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(38,40)
            PsiElement(AppleScriptTokenType.id)('id')(38,40)
      PsiWhiteSpace(' ')(40,41)
      PsiComment(AppleScriptTokenType.COMMENT)('-- todo not correct, should be 'message id' property')(41,93)
      PsiElement(AppleScriptTokenType.NLS)('\n  ')(93,96)
      AppleScriptExpressionImpl(EXPRESSION)(96,103)
        AppleScriptDictionaryClassNameImpl(DICTIONARY_CLASS_NAME)(96,103)
          AppleScriptIdentifierImpl(IDENTIFIER)(96,103)
            PsiElement(AppleScriptTokenType.var_identifier)('message')(96,103)
      PsiWhiteSpace(' ')(103,104)
      AppleScriptExpressionImpl(EXPRESSION)(104,106)
        AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(104,106)
          AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(104,106)
            PsiElement(AppleScriptTokenType.id)('id')(104,106)
      PsiWhiteSpace(' ')(106,107)
      PsiComment(AppleScriptTokenType.COMMENT)('-- todo: not correct: 'message' is a class, should be 'message id' property')(107,182)
      PsiElement(AppleScriptTokenType.NLS)('\n  ')(182,185)
      AppleScriptExpressionImpl(EXPRESSION)(185,203)
        AppleScriptObjectReferenceImpl(OBJECT_REFERENCE)(185,203)
          AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(185,195)
            AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(185,195)
              AppleScriptIdentifierImpl(IDENTIFIER)(185,192)
                PsiElement(AppleScriptTokenType.var_identifier)('message')(185,192)
              PsiWhiteSpace(' ')(192,193)
              PsiElement(AppleScriptTokenType.id)('id')(193,195)
          PsiWhiteSpace(' ')(195,196)
          PsiElement(AppleScriptTokenType.of)('of')(196,198)
          PsiWhiteSpace(' ')(198,199)
          AppleScriptReferenceIdentifierImpl(REFERENCE_IDENTIFIER)(199,203)
            AppleScriptIdentifierImpl(IDENTIFIER)(199,203)
              PsiElement(AppleScriptTokenType.var_identifier)('dldl')(199,203)
      PsiWhiteSpace(' ')(203,204)
      PsiComment(AppleScriptTokenType.COMMENT)('--'message id' is a property: correct')(204,241)
      PsiElement(AppleScriptTokenType.NLS)('\n  ')(241,244)
      AppleScriptExpressionImpl(EXPRESSION)(244,265)
        AppleScriptFilterReferenceImpl(FILTER_REFERENCE)(244,265)
          AppleScriptDictionaryClassNameImpl(DICTIONARY_CLASS_NAME)(244,251)
            AppleScriptIdentifierImpl(IDENTIFIER)(244,251)
              PsiElement(AppleScriptTokenType.var_identifier)('message')(244,251)
          PsiWhiteSpace(' ')(251,252)
          PsiElement(AppleScriptTokenType.whose)('whose')(252,257)
          PsiWhiteSpace(' ')(257,258)
          AppleScriptExpressionImpl(EXPRESSION)(258,265)
            AppleScriptDictionaryClassNameImpl(DICTIONARY_CLASS_NAME)(258,265)
              AppleScriptIdentifierImpl(IDENTIFIER)(258,265)
                PsiElement(AppleScriptTokenType.var_identifier)('message')(258,265)
      PsiWhiteSpace(' ')(265,266)
      AppleScriptCompareExpressionImpl(COMPARE_EXPRESSION)(266,281)
        AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(266,268)
          AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(266,268)
            PsiElement(AppleScriptTokenType.id)('id')(266,268)
        PsiWhiteSpace(' ')(268,269)
        PsiElement(AppleScriptTokenType.EQ)('is')(269,271)
        PsiWhiteSpace(' ')(271,272)
        AppleScriptReferenceIdentifierImpl(REFERENCE_IDENTIFIER)(272,281)
          AppleScriptIdentifierImpl(IDENTIFIER)(272,281)
            PsiElement(AppleScriptTokenType.var_identifier)('theTempID')(272,281)
      PsiWhiteSpace(' ')(281,282)
      PsiComment(AppleScriptTokenType.COMMENT)('--todo 'message id' is not detected as a property')(282,331)
      PsiElement(AppleScriptTokenType.NLS)('\n  ')(331,334)
      AppleScriptExpressionImpl(EXPRESSION)(334,353)
        AppleScriptPropertyReferenceImpl(PROPERTY_REFERENCE)(334,353)
          AppleScriptDictionaryPropertyNameImpl(DICTIONARY_PROPERTY_NAME)(334,353)
            AppleScriptIdentifierImpl(IDENTIFIER)(334,340)
              PsiElement(AppleScriptTokenType.var_identifier)('should')(334,340)
            PsiWhiteSpace(' ')(340,341)
            PsiElement(AppleScriptTokenType.copy)('copy')(341,345)
            PsiWhiteSpace(' ')(345,346)
            AppleScriptIdentifierImpl(IDENTIFIER)(346,353)
              PsiElement(AppleScriptTokenType.var_identifier)('message')(346,353)
    PsiElement(AppleScriptTokenType.NLS)('\n')(353,354)
    PsiElement(AppleScriptTokenType.end)('end')(354,357)
    PsiWhiteSpace(' ')(357,358)
    PsiElement(AppleScriptTokenType.tell)('tell')(358,362)
  PsiElement(AppleScriptTokenType.NLS)('\n')(362,363)
